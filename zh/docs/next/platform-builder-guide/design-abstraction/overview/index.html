<!doctype html>
<html lang="zh" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="KubeVela Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="KubeVela Blog Atom Feed"><title data-react-helmet="true">Overview | KubeVela</title><meta data-react-helmet="true" property="og:url" content="https://kubevela.io/zh/docs/next/platform-builder-guide/design-abstraction/overview"><meta data-react-helmet="true" name="docusaurus_locale" content="zh"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Overview | KubeVela"><meta data-react-helmet="true" name="description" content="Application CRD"><meta data-react-helmet="true" property="og:description" content="Application CRD"><link data-react-helmet="true" rel="shortcut icon" href="/zh/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kubevela.io/zh/docs/next/platform-builder-guide/design-abstraction/overview"><link data-react-helmet="true" rel="alternate" href="https://kubevela.io/docs/next/platform-builder-guide/design-abstraction/overview" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://kubevela.io/zh/docs/next/platform-builder-guide/design-abstraction/overview" hreflang="zh"><link data-react-helmet="true" rel="alternate" href="https://kubevela.io/docs/next/platform-builder-guide/design-abstraction/overview" hreflang="x-default"><link rel="stylesheet" href="/zh/assets/css/styles.6dfaa636.css">
<link rel="preload" href="/zh/assets/js/styles.3e45ae56.js" as="script">
<link rel="preload" href="/zh/assets/js/runtime~main.59f60409.js" as="script">
<link rel="preload" href="/zh/assets/js/main.ccd80112.js" as="script">
<link rel="preload" href="/zh/assets/js/1.ffa679eb.js" as="script">
<link rel="preload" href="/zh/assets/js/2.bc478273.js" as="script">
<link rel="preload" href="/zh/assets/js/191.557251af.js" as="script">
<link rel="preload" href="/zh/assets/js/935f2afb.1004866c.js" as="script">
<link rel="preload" href="/zh/assets/js/17896441.df221f3c.js" as="script">
<link rel="preload" href="/zh/assets/js/cab3ed1e.e1a4656c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><img src="/zh/img/logo.svg" alt="KubeVela" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/zh/img/logoDark.svg" alt="KubeVela" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KubeVela</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/docs/">文档</a><a class="navbar__item navbar__link" href="/zh/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/zh/docs/next/platform-builder-guide/design-abstraction/overview">Next</a></li><li><a class="dropdown__link" href="/zh/docs/platform-builder-guide/design-abstraction/overview">0.3.5</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>简体中文</span></span></a><ul class="dropdown__menu"><li><a href="/docs/next/platform-builder-guide/design-abstraction/overview" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/zh/docs/next/platform-builder-guide/design-abstraction/overview" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">简体中文</a></li></ul></div><a href="https://github.com/oam-dev/kubevela" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-githab-link"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/zh/"><img src="/zh/img/logo.svg" alt="KubeVela" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/zh/img/logoDark.svg" alt="KubeVela" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">KubeVela</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/zh/docs/next/platform-builder-guide/design-abstraction/overview">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/docs/platform-builder-guide/design-abstraction/overview">0.3.5</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/zh/docs/">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/zh/blog">博客</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/docs/next/platform-builder-guide/design-abstraction/overview" target="_self" rel="noopener noreferrer" class="menu__link">English</a></li><li class="menu__list-item"><a href="/zh/docs/next/platform-builder-guide/design-abstraction/overview" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active">简体中文</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/oam-dev/kubevela" target="_blank" rel="noopener noreferrer" class="menu__link header-githab-link"></a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/overview/concepts">Core Concepts</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/getting-started/install">Install</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/getting-started/quick-start">Quick Start</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Platform Builder Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Design Abstraction</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/zh/docs/next/platform-builder-guide/design-abstraction/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/next/platform-builder-guide/design-abstraction/application">Application CRD</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/next/platform-builder-guide/design-abstraction/definition-and-templates">Definition CRD</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Using CUE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-cue/basic">Learning CUE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-cue/workload-type">Defining Workload Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-cue/trait">Defining Traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-cue/status">Advanced Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-cue/openapi-v3-json-schema">Auto-generated Schema</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Using Helm</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-helm/component">Define Components</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-helm/trait">Attach Traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/platform-builder-guide/using-helm/known-issues">Known Limitations</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer Experience Guide</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Appfile</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/appfile/quick-start-appfile">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/appfile/learn-appfile">Learning Appfile</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Command Line Tool (CLI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/cli/port-forward">Port Forwarding</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/cli/check-logs">Check Application Logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/cli/exec-cmd">Execute Commands in Container</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/cli/cap-center">Managing Capabilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/cli/config-enviroments">Setting Up Deployment Environment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/developer-experience-guide/cli/config-app">Configuring Data/Env in Application</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CLI References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_config">vela_config</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_env">vela_env</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_init">vela_init</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_up">vela_up</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_version">vela_version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_exec">vela_exec</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_logs">vela_logs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_ls">vela_ls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_port-forward">vela_port-forward</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_show">vela_show</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_status">vela_status</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_workloads">vela_workloads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_traits">vela_traits</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_system">vela_system</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_template">vela_template</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/cli-references/vela_cap">vela_cap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Capability References</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/overview">overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/webservice">webservice</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/task">task</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/worker">worker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/route">route</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/metrics">metrics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/scaler">scaler</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/capability-references/rest">Restful API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Roadmap</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/zh/docs/next/roadmap/roadmap">Roadmap</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/zh/docs/next/faq">FAQ</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for KubeVela <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/zh/docs/platform-builder-guide/design-abstraction/overview">latest version</a></strong> (0.3.5).</div></div><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_3a4h">Overview</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="application-crd"></a>Application CRD<a class="hash-link" href="#application-crd" title="Direct link to heading">#</a></h2><p>This documentation will explain what is <code>Application</code> object and why you need it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="motivation"></a>Motivation<a class="hash-link" href="#motivation" title="Direct link to heading">#</a></h2><p>Encapsulation is probably the mostly widely used approach to enable easier developer experience and allow users to deliver the whole application resources as one unit. For example, many tools today encapsulate Kubernetes <em>Deployment</em> and <em>Service</em> into a <em>Web Service</em> module, and then instantiate this module by simply providing parameters such as <em>image=foo</em> and <em>ports=80</em>. This pattern can be found in cdk8s (e.g. <a href="https://github.com/awslabs/cdk8s/blob/master/examples/typescript/web-service/web-service.ts" target="_blank" rel="noopener noreferrer"><code>web-service.ts</code> </a>), CUE (e.g. <a href="https://github.com/cuelang/cue/blob/b8b489251a3f9ea318830788794c1b4a753031c0/doc/tutorial/kubernetes/quick/services/kube.cue#L70" target="_blank" rel="noopener noreferrer"><code>kube.cue</code></a>), and many widely used Helm charts (e.g. <a href="https://docs.bitnami.com/tutorials/create-your-first-helm-chart/" target="_blank" rel="noopener noreferrer">Web Service</a>).</p><p>Despite the efficiency and extensibility in defining abstractions with encapsulation, both DSL (e.g. cdk8s and CUE) and templating (e.g. Helm) are mostly used as client side tools and can be barely used as a platform level building block. This leaves platform builders either have to create restricted/inextensible abstractions, or re-invent the wheels of what DSL/templating has already been doing great.</p><p>KubeVela is designed to make it possible to build easy-to-use yet highly extensible platforms with leverage of the battle-tested encapsulation and abstraction. </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="abstraction"></a>Abstraction<a class="hash-link" href="#abstraction" title="Direct link to heading">#</a></h2><p>First of all, KubeVela introduces an <code>Application</code> CRD as its main abstraction that could capture all needed resources to run the application, and exposes configurable parameters for end users. Every application is composed by multiple components, and each of them is defined by workload specification and traits (operational behaviors). For example:</p><div class="codeBlockContent_3z4W"><div tabindex="0" class="prism-code language-yaml codeBlock_6upA thin-scrollbar"><div class="codeBlockLines_xlV7" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> core.oam.dev/v1alpha2</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> Application</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> application</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">sample</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">components</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> foo</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> webservice</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">settings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> crccheck/hello</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">world</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">port</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">8000</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">traits</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> ingress</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">properties</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token key atrule">domain</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> testsvc.example.com</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token key atrule">http</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token key atrule">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token number">8000</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> sidecar</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">properties</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;logging&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;fluentd&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> bar</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> aliyun</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">oss </span><span class="token comment" style="color:rgb(98, 114, 164)"># cloud service</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">bucket</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;my-bucket&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i">Copy</button></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="encapsulation"></a>Encapsulation<a class="hash-link" href="#encapsulation" title="Direct link to heading">#</a></h2><p>With <code>Application</code> provides an abstraction to deploy apps, each <em>component</em> and <em>trait</em> specification in this application is actually enforced by another set of building block objects named <em>&quot;definitions&quot;</em>, for example, <a href="https://github.com/oam-dev/kubevela/tree/master/docs/examplesapplication#workload-definition" target="_blank" rel="noopener noreferrer"><code>WorkloadDefinition</code></a> and <a href="https://github.com/oam-dev/kubevela/tree/master/docs/examplesapplication#scaler-trait-definition" target="_blank" rel="noopener noreferrer"><code>TraitDefinition</code></a>.</p><p>Definitions are designed to leverage encapsulation technologies such as <code>CUE</code>, <code>Helm</code> and <code>Terraform modules</code> to template and parameterize Kubernetes resources as well as cloud services. This enables users to assemble templated capabilities (defined via Helm charts or CUE modules etc) into an <code>Application</code> by simply providing parameters, i.e. they only need to interact with an unified abstraction. Actually, in the <code>application-sample</code> above, it models a Kubernetes Deployment (component <code>foo</code>) to run container and a Alibaba Cloud OSS bucket (component <code>bar</code>) alongside.</p><p>This templating based encapsulation and abstraction mechanism is the key for KubeVela to provide <em>PaaS-like</em> experience (<em>i.e. app-centric, higher level abstractions, self-service operations etc</em>) to end users.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="no-configuration-drift"></a>No Configuration Drift<a class="hash-link" href="#no-configuration-drift" title="Direct link to heading">#</a></h3><p>Many of the existing encapsulation solutions today work at client side, for example, DSL/IaC tools and Helm. This approach is easy to be adopted and has less invasion in the user cluster, KubeVela encapsulation engine can also be implemented at client side.</p><p>But client side abstractions, though light-weighted, always lead to an issue called infrastructure/configuration drift, i.e. the generated component instances are not in line with the expected configuration. This could be caused by incomplete coverage, less-than-perfect processes or emergency changes.</p><p>Hence, the encapsulation engine of KubeVela is designed to be a <a href="https://kubernetes.io/docs/concepts/architecture/controller/" target="_blank" rel="noopener noreferrer">Kubernetes Control Loop</a> and leverage Kubernetes control plane to eliminate the issue of configuration drifting, and still keeps the flexibly and velocity enabled by existing encapsulation solutions (e.g. DSL and templating).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="no-juggling-approach-to-manage-kubernetes-objects"></a>No &quot;Juggling&quot; Approach to Manage Kubernetes Objects<a class="hash-link" href="#no-juggling-approach-to-manage-kubernetes-objects" title="Direct link to heading">#</a></h3><p>For example, as the platform team we want to leverage Istio as the Service Mesh layer to control the traffic to certain <code>Deployment</code> instances. But this could be really painful today because we have to enforce end users to define and manage a set of Kubernetes resources in a &quot;juggling&quot; approach. For example, in a simple canary rollout case, the end users have to carefully manage a primary <em>Deployment</em>, a primary <em>Service</em>, a <em>root Service</em>, a canary <em>Deployment</em>, a canary <em>Service</em>, and have to probably rename the <em>Deployment</em> instance after canary promotion (this is actually unacceptable in production because renaming will lead to the app restart). What&#x27;s worse, we have to expect the users properly set the labels and selectors on those objects carefully because they are the key to ensure proper accessibility of every app instance and the only revision mechanism our Istio controller could count on.</p><p>The issue above could be even painful if the component instance is not <em>Deployment</em>, but <em>StatefulSet</em> or custom workload type. For example, normally it doesn&#x27;t make sense to replicate a <em>StatefulSet</em> instance during rollout, this means the users have to maintain the name, revision, label, selector, app instances in a totally different approach from <em>Deployment</em>.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="standard-contract-behind-the-abstraction"></a>Standard Contract Behind The Abstraction<a class="hash-link" href="#standard-contract-behind-the-abstraction" title="Direct link to heading">#</a></h4><p>The encapsulation engine of KubeVela is designed to relieve such burden of managing versionized Kubernetes resources manually. In nutshell, all the needed Kubernetes resources for an app are now encapsulated in a single abstraction, and KubeVela will maintain the instance name, revisions, labels and selector by the battle tested reconcile loop automation, not by human hand. At the meantime, the existence of definition objects allow the platform team to customize the details of all above metadata behind the abstraction, even control the behavior of how to do revision.</p><p>Thus, all those metadata now become a standard contract that any day 2 operation controller such as Istio or rollout can rely on. This is the key to ensure our platform could provide user friendly experience but keep &quot;transparent&quot; to the operational behaviors.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/platform-builder-guide/design-abstraction/overview.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑本页</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh/docs/next/getting-started/quick-start"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">« Quick Start</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh/docs/next/platform-builder-guide/design-abstraction/application"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Application CRD »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#application-crd" class="table-of-contents__link">Application CRD</a></li><li><a href="#motivation" class="table-of-contents__link">Motivation</a></li><li><a href="#abstraction" class="table-of-contents__link">Abstraction</a></li><li><a href="#encapsulation" class="table-of-contents__link">Encapsulation</a><ul><li><a href="#no-configuration-drift" class="table-of-contents__link">No Configuration Drift</a></li><li><a href="#no-juggling-approach-to-manage-kubernetes-objects" class="table-of-contents__link">No &quot;Juggling&quot; Approach to Manage Kubernetes Objects</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Documentation</h4><ul class="footer__items"><li class="footer__item"><a href="https://kubevela.io/docs/getting-started/install" target="_blank" rel="noopener noreferrer" class="footer__link-item">Getting Started</a></li><li class="footer__item"><a href="https://kubevela.io/docs/platform-builder-guide/design-abstraction/overview" target="_blank" rel="noopener noreferrer" class="footer__link-item">Platform Builder Guide</a></li><li class="footer__item"><a href="https://kubevela.io/docs/developer-experience-guide/appfile/quick-start-appfile" target="_blank" rel="noopener noreferrer" class="footer__link-item">Developer Experience Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://slack.cncf.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack ( #kubevela channel )</a></li><li class="footer__item"><a href="https://wj.qq.com/s2/7438465/6bd6" target="_blank" rel="noopener noreferrer" class="footer__link-item">WeChat</a></li><li class="footer__item"><a href="https://gitter.im/oam-dev/community" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gitter</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/docs/next/platform-builder-guide/design-abstraction/">DingTalk (23310022)</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/oam-dev/kubevela" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/zh/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">
        <br>
        <strong>© Kubectl Pod Lens Authors 2021 | Documentation Distributed under CC-BY-4.0 </strong>
        <br>
      </div></div></div></footer></div>
<script src="/zh/assets/js/styles.3e45ae56.js"></script>
<script src="/zh/assets/js/runtime~main.59f60409.js"></script>
<script src="/zh/assets/js/main.ccd80112.js"></script>
<script src="/zh/assets/js/1.ffa679eb.js"></script>
<script src="/zh/assets/js/2.bc478273.js"></script>
<script src="/zh/assets/js/191.557251af.js"></script>
<script src="/zh/assets/js/935f2afb.1004866c.js"></script>
<script src="/zh/assets/js/17896441.df221f3c.js"></script>
<script src="/zh/assets/js/cab3ed1e.e1a4656c.js"></script>
</body>
</html>